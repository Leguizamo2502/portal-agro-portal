<!-- rol-form-permission-form.component.html -->
<div class="form-wrapper-transparent">
  <h2 class="titleForm">{{ title }}</h2>

  <form (ngSubmit)="save()" [formGroup]="form" class="form-container">
    <!-- Rol -->
    <div class="form-field">
      <mat-form-field appearance="outline" class="custom-mat-field">
        <mat-label>Rol</mat-label>
        <mat-select formControlName="rolId" required>
          <mat-option [value]="0" disabled>Seleccione un rol</mat-option>
          <mat-option *ngFor="let r of rols" [value]="r.id">
            {{ r.name }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="form.get('rolId')?.hasError('required')">
          El rol es obligatorio.
        </mat-error>
        <mat-error *ngIf="form.get('rolId')?.hasError('min')">
          Debe seleccionar un rol válido.
        </mat-error>
      </mat-form-field>
    </div>

    <!-- Formulario -->
    <div class="form-field">
      <mat-form-field appearance="outline" class="custom-mat-field">
        <mat-label>Formulario</mat-label>
        <mat-select formControlName="formId" required>
          <mat-option [value]="0" disabled>Seleccione un formulario</mat-option>
          <mat-option *ngFor="let u of forms" [value]="u.id">
            {{ u.name }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="form.get('formId')?.hasError('required')">
          El formulario es obligatorio.
        </mat-error>
        <mat-error *ngIf="form.get('formId')?.hasError('min')">
          Debe seleccionar un formulario válido.
        </mat-error>
      </mat-form-field>
    </div>

    <!-- Permiso -->
    <div class="form-field">
      <mat-form-field appearance="outline" class="custom-mat-field">
        <mat-label>Permiso</mat-label>
        <mat-select formControlName="permissionId" required>
          <mat-option [value]="0" disabled>Seleccione un permiso</mat-option>
          <mat-option *ngFor="let p of permissions" [value]="p.id">
            {{ p.name }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="form.get('permissionId')?.hasError('required')">
          El permiso es obligatorio.
        </mat-error>
        <mat-error *ngIf="form.get('permissionId')?.hasError('min')">
          Debe seleccionar un permiso válido.
        </mat-error>
      </mat-form-field>
    </div>

    <!-- Acciones -->
    <div class="form-actions cont-botones">
      <app-button
        [text]="'Guardar'"
        [icon]="'save'"
        [type]="'submit'"
        [disabled]="form.invalid">
      </app-button>

      <app-button
        [text]="'Cancelar'"
        [icon]="'cancel'"
        [color]="'secondary'"
        [back]="true">
      </app-button>
    </div>
  </form>
</div>
