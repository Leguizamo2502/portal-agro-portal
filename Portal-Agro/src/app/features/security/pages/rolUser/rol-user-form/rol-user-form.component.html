<!-- rol-user-form.component.html -->
<div class="form-wrapper-transparent">
  <h2 class="titleForm">{{ title }}</h2>

  <form (ngSubmit)="save()" [formGroup]="form" class="form-container">
    <!-- Usuario -->
    <div class="form-field">
      <mat-form-field appearance="outline" class="custom-mat-field">
        <mat-label>Usuario</mat-label>
        <mat-select formControlName="userId" required>
          <mat-option [value]="0" disabled>Seleccione un usuario</mat-option>
          <mat-option *ngFor="let u of users" [value]="u.id">
            {{ u.firstName }} {{ u.lastName }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="form.get('userId')?.hasError('required')">
          El usuario es obligatorio.
        </mat-error>
        <mat-error *ngIf="form.get('userId')?.hasError('min')">
          Debe seleccionar un usuario válido.
        </mat-error>
      </mat-form-field>
    </div>

    <!-- Rol -->
    <div class="form-field">
      <mat-form-field appearance="outline" class="custom-mat-field">
        <mat-label>Rol</mat-label>
        <mat-select formControlName="rolId" required>
          <mat-option [value]="0" disabled>Seleccione un rol</mat-option>
          <mat-option *ngFor="let r of rols" [value]="r.id">
            {{ r.name }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="form.get('rolId')?.hasError('required')">
          El rol es obligatorio.
        </mat-error>
        <mat-error *ngIf="form.get('rolId')?.hasError('min')">
          Debe seleccionar un rol válido.
        </mat-error>
      </mat-form-field>
    </div>

    <!-- Acciones -->
    <div class="form-actions cont-botones">
      <app-button
        [text]="'Guardar'"
        [icon]="'save'"
        [type]="'submit'"
        [disabled]="form.invalid">
      </app-button>

      <app-button
        [text]="'Cancelar'"
        [icon]="'cancel'"
        [color]="'secondary'"
        [back]="true">
      </app-button>
    </div>
  </form>
</div>
